const DUMMY_PREDICTIONS = [
	{
		predictionId: "predict1",
		guildId: "xyz",
		users: [
			{
				userId: "abc",
				pointsInEscrow: 123,
				pointsAvailable: 456,
				prediction: "believe",
			},
		],
		timeStarted: "time 1",
		timeToExpire: "time 2",
		active: true,
	},
	{
		predictionId: "predict2",
		guildId: "plush",
		users: [
			{
				userId: "abc",
				pointsInEscrow: 123,
				pointsAvailable: 456,
				prediction: "believe",
			},
			{
				userId: "def",
				pointsInEscrow: 556,
				pointsAvailable: 487,
				prediction: "doubt",
			},
			{
				userId: "hgi",
				pointsInEscrow: 10,
				pointsAvailable: 4000,
				prediction: "doubt",
			},
		],
		timeStarted: "time 1",
		timeToExpire: "time 2",
		active: true,
	},
];

const getPredictionByPredictionId = (req, res, next) => {
	const predictionId = req.params.predictionId;

	const prediction = DUMMY_PREDICTIONS.find(
		(prediction) => prediction.predictionId === predictionId
	);
	if (prediction === undefined) {
		res.json({ message: "no prediction found with given id" });
	}
	res.json({ prediction });
};

const getUsersByPredictionId = (req, res, next) => {
	const predictionId = req.params.predictionId;
	const users = DUMMY_PREDICTIONS.find(
		(prediction) => prediction.predictionId === predictionId
	).users;

	if (users === undefined) {
		res.json({ message: "no users found in prediction with given id" });
	}
	res.json({ users });
};

const createNewPredictionInGuildId = () => {};

const editPredictionByPredictionId = () => {};

const addNewPredictionInGuildId = () => {};

const removeUserFromGuildByGuildId = () => {};

module.exports = {
	getPredictionByPredictionId,
	getUsersByPredictionId,
	createNewPredictionInGuildId,
	editPredictionByPredictionId,
	addNewPredictionInGuildId,
	removeUserFromGuildByGuildId,
};
